# 3.1 ファイル監視機能

これはどれだけ検索できるかのテスト
- 入金
- 債権管理
- でんき売上
- ChronosBilling

パラメータで渡された請求種類、取込区分よりパラメータリファレンスを参照し、対象のディレクトリに対して、対象のファイル有無を監視する。



| IO   | ファイル名                                                   | 備考 |
| ---- | ------------------------------------------------------------ | ---- |
| IN   | パラメータリファレンス（取込対象ファイル）に存在する取込対象ファイル |      |



| №    | 入出力対象 | 更新方式                  | 備考       |      |      |
| ---- | ---------- | ------------------------- | ---------- | ---- | ---- |
| 1    | IN         | 請求種類                  | パラメータ | R    |      |
| 2    | IN         | 取込区分                  | パラメータ | R    |      |
| 3    | IN         | PMTパラメータリファレンス | RFRNC      | R    |      |
| 4    | OUT        | 処理対象ファイル名        | パラメータ | C    |      |
| 5    | OUT        | 処理対象ファイルID        | パラメータ | C    |      |





| №                                            | 処理概要                                                     | ﾒｯｾｰｼﾞID | ﾒｯｾｰｼﾞ                                                       | 発報 |
| -------------------------------------------- | ------------------------------------------------------------ | -------- | ------------------------------------------------------------ | ---- |
| リカバリ方法                                 |                                                              |          |                                                              |      |
| 1                                            | パラメータリファレンスに対象レコードが存在しない場合、エラー処理を行う。 | XXXXXXX  | パラメータリファレンス（xxxxxxx）が存在しません。            | あり |
| パラメータリファレンス設定後、再実施する。   |                                                              |          |                                                              |      |
| 2                                            | 対象ディレクトリが存在しない場合、エラー処理を行う。         | XXXXXXX  | 対象のディレクトリが存在しません。（ディレクトリ区分：xxx）（ディレクトリ名：xxx） | あり |
| 対象ディレクトリを作成後、再実施する。       |                                                              |          |                                                              |      |
| 3                                            | 対象ディレクトリへのアクセス権限がない場合、エラー処理を行う。 | XXXXXXX  | 対象のディレクトリに対する権限が存在しません。（区分：xxx）（ディレクトリ：xxx） | あり |
| 対象ディレクトリへの権限付与後、再実施する。 |                                                              |          |                                                              |      |
| 4                                            | 対象ファイルへのアクセス権限がない場合、エラー処理を行う。   | XXXXXXX  | 対象のファイルを操作する権限が存在しません。（区分：xxx）（ディレクトリ：xxx） | あり |
| 対象ファイルへの権限付与後、再実施する。     |                                                              |          |                                                              |      |
| 5                                            | 対象ファイルが存在しない場合、エラー処理を行う。（ファイル操作時） | XXXXXXX  | 対象のファイルが存在しません。（ファイル：xxx）              | あり |
| 対象ファイルへを再配置後、再実施する。       |                                                              |          |                                                              |      |